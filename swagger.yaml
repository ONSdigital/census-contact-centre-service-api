openapi: 3.0.0
info:
  title: ONS Contact Centre API
  description: Provides features and functions required by the Contact Centre.
  version: "5.0.1-oas3"
security:
  - basicAuth: []
tags:
  - name: routes
paths:
  /addresses:
    get:
      operationId: addressQuery
      tags:
        - routes
      summary: Search for an address.
      description: >-
        Returns a ranked list of addresses matching the search query in the
        specified format.
      parameters:
        - in: query
          name: input
          required: true
          description: >-
            Specifies the address search string (e.g. 'Segensworth Road,
            Titchfield, PO15 5RR').
          schema:
            type: string
            maximum: 250
            default: 0
        - in: query
          name: offset
          required: false
          description: 'Specifies the offset from zero, used for pagination.'
          schema:
            type: integer
            minimum: 0
            maximum: 250
            default: 0
        - in: query
          name: limit
          required: false
          description: Specifies the number of addresses to return.
          schema:
            type: integer
            minimum: 0
            maximum: 100
            default: 100

      responses:
        '200':
          description: Success. A json return of matched addresses.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.address.AddressBySearchResponseContainer
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: >-
            Unauthorised. The API key provided with the request is invalid.
        '429':
          description: >-
            Server too busy. The Address Index API is experiencing exceptional
            load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/addresses/postcode':
    get:
      operationId: postcodeQuery
      tags:
        - routes
      summary: Search for an address by postcode.
      description: >-
        Returns a alpha-numeric ordered list of addresses matching the postcode
        query.
      parameters:
        - in: query
          name: postcode
          required: true
          description: Specifies the postcode search string (e.g. 'PO15 5RR').
          schema:
            type: string
            pattern: 'GIR[ ]?0AA|((AB|AL|B|BA|BB|BD|BH|BL|BN|BR|BS|BT|BX|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DD|DE|DG|DH|DL|DN|DT|DY|E|EC|EH|EN|EX|FK|FY|G|GL|GY|GU|HA|HD|HG|HP|HR|HS|HU|HX|IG|IM|IP|IV|JE|KA|KT|KW|KY|L|LA|LD|LE|LL|LN|LS|LU|M|ME|MK|ML|N|NE|NG|NN|NP|NR|NW|OL|OX|PA|PE|PH|PL|PO|PR|RG|RH|RM|S|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TD|TF|TN|TQ|TR|TS|TW|UB|W|WA|WC|WD|WF|WN|WR|WS|WV|YO|ZE)(\\d[\\dA-Z]?[ ]?\\d[ABD-HJLN-UW-Z]{2}))|BFPO[ ]?\\d{1,4}'
        - in: query
          name: offset
          required: false
          description: 'Specifies the offset from zero, used for pagination.'
          schema:
            type: integer
            minimum: 0
            maximum: 250
            default: 0
        - in: query
          name: limit
          required: false
          description: Specifies the number of addresses to return.
          schema:
            type: integer
            minimum: 0
            maximum: 100
            default: 100
      responses:
        '200':
          description: Success. A json return of matched addresses.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.postcode.AddressByPostcodeResponseContainer
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: >-
            Server too busy. The Address Index API is experiencing exceptional
            load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/{caseId}/address':
    post:
      operationId: caseAddressUpdate
      tags:
        - routes
      summary: Log a reported change to a case address, or report a new address 
      description: >-
        Report on a number of scenarios affecting a case address, including an invalid address, a change in address type e.g. CE to HH or new address
      parameters:
        - in: path
          name: caseId
          description: >-
            The caseId of the case this change relates to, if this is a new address the caseId value should be set to 'unknown'
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Success. Confirmation.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.Response
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/uk.gov.ons.responsemanagement.model.server.request.caseupdate
        description: object detailing case and report type
  '/cases/uprn/{uprn}':
    get:
      operationId: caseByUprnQuery
      tags:
        - routes
      summary: Search for a case by address uprn.
      description: Returns a case
      parameters:
        - in: path
          name: uprn
          required: true
          description: 'Lookup a case by the UPRN '
          schema:
            type: string
            pattern: '^\d{1,12}$'
        - in: query
          name: caseEvents
          description: true if case events are additionally required
          schema:
              type: boolean
      responses:
        '200':
          description: Success. A json object return of matched case.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: >-
                    #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.case.CaseContainer
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '403':
          description: Forbidden. The case exists, but it's not being returned as it's not a household case.
        '404':
          description: Not found. A case doesn't exist for the supplied uprn.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/{caseId}':
    get:
      operationId: caseByIdQuery
      tags:
        - routes
      summary: Search for a case by its Id.
      description: Returns a case
      parameters:
        - in: path
          name: caseId
          required: true
          description: 'Lookup a case by the case uuid '
          schema:
            type: string
        - in: query
          name: caseEvents
          description: true if case events are additionally required
          schema:
              type: boolean
      responses:
        '200':
          description: Success. A json object return of matched case.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.case.CaseContainer
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '403':
          description: Forbidden. The case exists, but it's being not returned as it's not a household case.
        '404':
          description: Not found. A case doesn't exist for the supplied caseId.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/ref/{reference}':
    get:
      operationId: caseByReferenceQuery
      tags:
        - routes
      summary: Search for a case by its reference.
      description: Returns a case by the case reference if available.
      parameters:
        - in: path
          name: reference
          required: true
          description: Case reference e.g 123000001
          schema:
            type: integer
            format: int64
        - in: query
          name: caseEvents
          description: true if case events are additionally required
          schema:
              type: boolean
      responses:
        '200':
          description: Success. A json object return of matched case.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.case.CaseContainer
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '403':
          description: Forbidden. The case exists, but it's not being returned as it's not a household case.
        '404':
          description: Not found. A case doesn't exist for the supplied uprn.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  /cases/uac:
    post:
      operationId: postUacSearch
      tags:
        - routes
      summary: Search for a case by UAC
      description: >-
        returns a matched case by UAC. Note that this is a POST request to avoid
        UACs appearing in request logs
      deprecated: true
      responses:
        '200':
          description: Success. Confirmation.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.Response
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/uk.gov.ons.responsemanagement.model.server.request.uac
        description: uac to search for case by
  '/cases/{caseId}/launch':
    get:
      operationId: LaunchByCaseIdQuery
      tags:
        - routes
      summary: Obtain an EQ launch URL and token for a case.
      description: Returns a case
      parameters:
        - in: path
          name: caseId
          required: true
          description: Obtain an EQ survey launch URL by caseID
          schema:
            type: string
        - in: query
          name: agentId
          required: true
          description: employee identifier
          schema:
            type: string
            pattern: '^\d{1,5}$'
        - in: query
          name: individual
          required: true
          description: the launch of an individual questionnaire is required
          schema:
            type: boolean
      responses:
        '200':
          description: Success. A json object return containing a launch url with token.
          content:
            application/json:
              schema:
                properties:
                  url:
                    type: string
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/{caseId}/fulfilment/post':
    post:
      operationId: postFulfilment
      tags:
        - routes
      summary: Request a fulfilment for a Case
      description: >-
        Request a fulfilment for a Case. 
        If the fulfilment code is for a case type of household or communal 
        individual (codes 'HI' or 'CI') then the request will be rejected as a bad 
        request if any of the following fields are not provided in the request body: 
        'title', 'forename' or 'surname'.
      parameters:
        - in: path
          name: caseId
          description: The Case UUID
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Success. Confirmation.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.Response
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/uk.gov.ons.responsemanagement.model.server.request.fulfilmentpost
        description: object detailing fulfilment request
  '/cases/{caseId}/fulfilment/email':
    post:
      operationId: emailFulfilment
      tags:
        - routes
      summary: Request a fulfilment for a Case
      description: Returns a case
      deprecated: true
      parameters:
        - in: path
          name: caseId
          description: The Case UUID
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Success. Confirmation.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.Response
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/uk.gov.ons.responsemanagement.model.server.request.fulfilmentemail
        description: object detailing fulfilment request
  '/cases/{caseId}/fulfilment/sms':
    post:
      operationId: smsFulfilment
      tags:
        - routes
      summary: Request a fulfilment for a Case
      description: Returns a case
      parameters:
        - in: path
          name: caseId
          description: The Case UUID
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Success. Confirmation.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.Response
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/uk.gov.ons.responsemanagement.model.server.request.fulfilmentsms
        description: object detailing fulfilment request
  '/cases/unresolved/fulfilment/post':
    post:
      operationId: unresolvedPostFulfilment
      tags:
        - routes
      summary: Request a fulfilment for an address
      description: Request a fulfilment for an address that has not been resolved to a Case
      responses:
        '200':
          description: Success. Confirmation.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.Response
        '400':
          description: |-
            Bad request. Indicates an issue with the request. Further details
              are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: |-
            Internal server error. Failed to process the request due to an
              internal error.
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/uk.gov.ons.responsemanagement.model.server.request.unresolvedfulfilmentpost
        description: object detailing fulfilment request
  '/cases/unresolved/fulfilment/email':
    post:
      operationId: unresolvedEmailFulfilment
      tags:
        - routes
      summary: Request a fulfilment for a Case
      description: Returns a case
      deprecated: true
      responses:
        '200':
          description: Success. Confirmation.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.Response
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/uk.gov.ons.responsemanagement.model.server.request.unresolvedfulfilmentemail
        description: object detailing fulfilment request
  '/cases/unresolved/fulfilment/sms':
    post:
      operationId: unresolvedSmsFulfilment
      tags:
        - routes
      summary: Request a fulfilment for a Case
      description: Returns a case
      responses:
        '200':
          description: Success. Confirmation.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.Response
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/uk.gov.ons.responsemanagement.model.server.request.unresolvedfulfilmentsms
        description: object detailing fulfilment request
  '/cases/{caseId}/appointment':
    post:
      operationId: scheduleAppointment
      tags:
        - routes
      summary: Schedule an appointment for either a field visit or telephone capture
      description: Returns a case
      parameters:
        - in: path
          name: caseId
          description: The Case UUID
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Success. Confirmation.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.Response
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/uk.gov.ons.responsemanagement.model.server.request.appointment
        description: object detailing appointment request
  '/fulfilments/':
    get:
      operationId: fulfilments
      tags:
        - routes
      summary: Get a list of available fulfilments.
      description: Returns a JSON array containing available fulfilments
      parameters:
        - in: query
          name: caseType
          required: false
          description: Lookup fulfilments by casetype
          schema:
            type: string
            enum:
              - HH
              - HI
              - CE
              - CI
        - in: query
          name: region
          required: false
          description: 'Lookup fulfilments by region e.g. england (E), wales (W), northern ireland (N)'
          schema:
            type: string
            enum:
              - E
              - W
              - N
      responses:
        '200':
          description: Success. A json object return of fulfilment options.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: >-
                    #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.fulfilmentcode
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
  '/cases/{caseId}/refusal':
    post:
      operationId: refusals
      tags:
        - routes
      summary: Log when someone is unable/unwilling to complete a response
      description: >-
        Logs a refusal against a Case, 'unknown' should be used in place of a caseid if lookup cannot be performed due to API not being available.
        Address fields are optional, these are only required in the instance where the API is down and the contact centre operative needs to record the address fields due to Case lookup not being available.
      parameters:
        - in: path
          name: caseId
          description: The Case UUID
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Success. Confirmation.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.Response
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: Server too busy. The ONS API is experiencing exceptional load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
      requestBody:
        content:
          application/json:
            schema:
              $ref: >-
                #/components/schemas/uk.gov.ons.responsemanagement.model.server.request.refusal
        description: object detailing refusal
  /version:
    get:
      operationId: versionQuery
      tags:
        - routes
      summary: Get version information.
      description: Returns version information for the api and the data (AddressBase).
      responses:
        '200':
          description: Success. A json return of version information.
          content:
            application/json:
              schema:
                $ref: >-
                  #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.address.AddressResponseVersion
        '400':
          description: >-
            Bad request. Indicates an issue with the request. Further details
            are provided in the response.
        '401':
          description: Unauthorised. The API key provided with the request is invalid.
        '429':
          description: >-
            Server too busy. The Address Index API is experiencing exceptional
            load.
        '500':
          description: >-
            Internal server error. Failed to process the request due to an
            internal error.
components:
  parameters:
    CallIdentifier:
      name: X-CALL-ID
      description: >-
        a unique call identifier that can be used to cross reference an API call
        to a contact centre call, MUST NOT be personal info e.g. phonenumber
      in: header
      required: true
      schema:
        type: string
  securitySchemes:
    basicAuth:
      type: http
      scheme: basic
    apiKey:
      type: apiKey
      in: header
      name: X-API-Key
    appId:
      type: apiKey
      in: header
      name: X-APP-ID
  schemas:
    uk.gov.ons.responsemanagement.model.server.request.caseupdate:
      properties:
        category:
          type: string
          enum:
            - ADDRESS_MODIFIED_NEW
            - ADDRESS_MODIFIED_UPDATE
            - ADDRESS_INVALID_DERELICT
            - ADDRESS_INVALID_DEMOLISHED
            - ADDRESS_INVALID_NON_RESIDENTIAL
            - ADDRESS_INVALID_UNDER_CONSTRUCTION
            - ADDRESS_INVALID_UNADDRESSABLE_OBJECT
            - ADDRESS_INVALID_UNOCCUPIED
            - ADDRESS_TYPE_CHANGE_TO_CE
            - ADDRESS_TYPE_CHANGE_TO_HH
          description: 'the category of the address change'
        addressLine1:
          type: string
          maxLength: 60
          description: updated address line1, optional only required for new address or updated address
        addressLine2:
          type: string
          maxLength: 60
          description: updated address line2, optional
        addressLine3:
          type: string
          maxLength: 60
          description: updated address line3, optional
        townName:
          type: string
          maxLength: 30
          description: The post town of the address, optional
        region:
          type: string
          enum:
            - E
            - W
            - N
          description: 'The region e.g. england (E), wales (W), northern ireland (N), optiona;'
        postcode:
          type: string
          description: postcode of address, optional only for new addresses
          maxLength: 8
        ceOrgName:
          type: string
          maxLength: 60
          description: CE Organisation name, optional only if address type is change to CE
        ceUsualResidents:
          type: integer
          description: CE number of usual residents if caller knows, optional only if address type is changed to CE
        dateTime:
          type: string
          format: datetime
          description: The request date time stamp
      required:
        - category
        - dateTime
    uk.gov.ons.responsemanagement.model.server.request.uac:
      properties:
        uac:
          type: string
          pattern: '^[A-Za-z0-9]{4}-[A-Za-z0-9]{4}-[A-Za-z0-9]{4}-[A-Za-z0-9]{4}$'
    uk.gov.ons.responsemanagement.model.server.request.fulfilmentpost:
      properties:
        caseId:
          type: string
          format: uuid
          description: CaseId to request fulfilment for.
        title:
          type: string
          maxLength: 12
          description: the title of the person requesting fulfilment
        forename:
          type: string
          maxLength: 60
          description: the forename of the person requesting fulfilment
        surname:
          type: string
          maxLength: 60
          description: the surname of the person requesting fulfilment
        fulfilmentCode:
          type: string
          maxLength: 12
          description: the fulfilment code for the fulfilment
        dateTime:
          type: string
          format: datetime
          description: The request date time stamp
      required:
        - caseId
        - fulfilmentCode
        - dateTime
    uk.gov.ons.responsemanagement.model.server.request.unresolvedfulfilmentpost:
      properties:
        addressLine1:
          type: string
          maxLength: 60
          description: updated address line1
        addressLine2:
          type: string
          maxLength: 60
          description: updated address line2
        addressLine3:
          type: string
          maxLength: 60
          description: updated address line3
        townName:
          type: string
          maxLength: 30
          description: The post town of the address
        region:
          type: string
          enum:
            - E
            - W
            - N
          description: 'The region e.g. england (E), wales (W), northern ireland (N)'
        postcode:
          type: string
          description: postcode of address
          pattern: 'GIR[ ]?0AA|((AB|AL|B|BA|BB|BD|BH|BL|BN|BR|BS|BT|BX|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DD|DE|DG|DH|DL|DN|DT|DY|E|EC|EH|EN|EX|FK|FY|G|GL|GY|GU|HA|HD|HG|HP|HR|HS|HU|HX|IG|IM|IP|IV|JE|KA|KT|KW|KY|L|LA|LD|LE|LL|LN|LS|LU|M|ME|MK|ML|N|NE|NG|NN|NP|NR|NW|OL|OX|PA|PE|PH|PL|PO|PR|RG|RH|RM|S|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TD|TF|TN|TQ|TR|TS|TW|UB|W|WA|WC|WD|WF|WN|WR|WS|WV|YO|ZE)(\\d[\\dA-Z]?[ ]?\\d[ABD-HJLN-UW-Z]{2}))|BFPO[ ]?\\d{1,4}'
        title:
          type: string
          maxLength: 12
          description: the title of the person requesting fulfilment
        forename:
          type: string
          maxLength: 60
          description: the forename of the person requesting fulfilment
        surname:
          type: string
          maxLength: 60
          description: the surname of the person requesting fulfilment
        fulfilmentCode:
          type: string
          maxLength: 12
          description: the fulfilment code for the fulfilment
        dateTime:
          type: string
          format: datetime
          description: The request date time stamp
      required:
        - addressLine1
        - townName
        - postcode
        - title
        - forename
        - surname
        - fulfilmentCode
        - dateTime
    uk.gov.ons.responsemanagement.model.server.request.fulfilmentemail:
      properties:
        caseId:
          type: string
          format: uuid
          description: CaseId to request fulfilment for.
        title:
          type: string
          maxLength: 12
          description: the title of the person requesting fulfilment
        forename:
          type: string
          maxLength: 60
          description: the forename of the person requesting fulfilment
        surname:
          type: string
          maxLength: 60
          description: the surname of the person requesting fulfilment
        email:
          type: string
          format: email
        fulfilmentCode:
          type: string
          maxLength: 12
          description: the fulfilment code for the fulfilment
        dateTime:
          type: string
          format: datetime
          description: The request date time stamp
      required:
        - caseId
        - title
        - forename
        - surname
        - email
        - fulfilmentCode
        - dateTime
    uk.gov.ons.responsemanagement.model.server.request.unresolvedfulfilmentemail:
      properties:
        addressLine1:
          type: string
          maxLength: 60
          description: updated address line1
        addressLine2:
          type: string
          maxLength: 60
          description: updated address line2
        addressLine3:
          type: string
          maxLength: 60
          description: updated address line3
        townName:
          type: string
          maxLength: 30
          description: The post town of the address
        region:
          type: string
          enum:
            - E
            - W
            - N
          description: 'The region e.g. england (E), wales (W), northern ireland (N)'
        postcode:
          type: string
          description: postcode of address
          pattern: 'GIR[ ]?0AA|((AB|AL|B|BA|BB|BD|BH|BL|BN|BR|BS|BT|BX|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DD|DE|DG|DH|DL|DN|DT|DY|E|EC|EH|EN|EX|FK|FY|G|GL|GY|GU|HA|HD|HG|HP|HR|HS|HU|HX|IG|IM|IP|IV|JE|KA|KT|KW|KY|L|LA|LD|LE|LL|LN|LS|LU|M|ME|MK|ML|N|NE|NG|NN|NP|NR|NW|OL|OX|PA|PE|PH|PL|PO|PR|RG|RH|RM|S|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TD|TF|TN|TQ|TR|TS|TW|UB|W|WA|WC|WD|WF|WN|WR|WS|WV|YO|ZE)(\\d[\\dA-Z]?[ ]?\\d[ABD-HJLN-UW-Z]{2}))|BFPO[ ]?\\d{1,4}'
        title:
          type: string
          maxLength: 12
          description: the title of the person requesting fulfilment
        forename:
          type: string
          maxLength: 60
          description: the forename of the person requesting fulfilment
        surname:
          type: string
          maxLength: 60
          description: the surname of the person requesting fulfilment
        email:
          type: string
          format: email
        fulfilmentCode:
          type: string
          maxLength: 12
          description: the fulfilment code for the fulfilment
        dateTime:
          type: string
          format: datetime
          description: The request date time stamp
      required:
        - addressLine1
        - townName
        - postcode
        - title
        - forename
        - surname
        - email
        - fulfilmentCode
        - dateTime
    uk.gov.ons.responsemanagement.model.server.request.fulfilmentsms:
      properties:
        caseId:
          type: string
          format: uuid
          description: CaseId to request fulfilment for.
        telNo:
          type: string
          pattern: '^447[0-9]{9}$'  
        fulfilmentCode:
          type: string
          maxLength: 12
          description: the fulfilment code for the fulfilment
        dateTime:
          type: string
          format: datetime
          description: The request date time stamp
      required:
        - caseId
        - telNo
        - fulfilmentCode
        - dateTime
    uk.gov.ons.responsemanagement.model.server.request.unresolvedfulfilmentsms:
      properties:
        addressLine1:
          type: string
          maxLength: 60
          description: updated address line1
        addressLine2:
          type: string
          maxLength: 60
          description: updated address line2
        addressLine3:
          type: string
          maxLength: 60
          description: updated address line3
        townName:
          type: string
          maxLength: 30
          description: The post town of the address
        region:
          type: string
          enum:
            - E
            - W
            - N
          description: 'The region e.g. england (E), wales (W), northern ireland (N)'
        postcode:
          type: string
          description: postcode of address
          pattern: 'GIR[ ]?0AA|((AB|AL|B|BA|BB|BD|BH|BL|BN|BR|BS|BT|BX|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DD|DE|DG|DH|DL|DN|DT|DY|E|EC|EH|EN|EX|FK|FY|G|GL|GY|GU|HA|HD|HG|HP|HR|HS|HU|HX|IG|IM|IP|IV|JE|KA|KT|KW|KY|L|LA|LD|LE|LL|LN|LS|LU|M|ME|MK|ML|N|NE|NG|NN|NP|NR|NW|OL|OX|PA|PE|PH|PL|PO|PR|RG|RH|RM|S|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TD|TF|TN|TQ|TR|TS|TW|UB|W|WA|WC|WD|WF|WN|WR|WS|WV|YO|ZE)(\\d[\\dA-Z]?[ ]?\\d[ABD-HJLN-UW-Z]{2}))|BFPO[ ]?\\d{1,4}'
        telNo:
          type: string
          pattern: '^447[0-9]{9}$'  
        fulfilmentCode:
          type: string
          maxLength: 12
          description: the fulfilment code for the fulfilment
        dateTime:
          type: string
          format: datetime
          description: The request date time stamp
      required:
        - addressLine1
        - townName
        - postcode
        - telNo
        - fulfilmentCode
        - dateTime
    uk.gov.ons.responsemanagement.model.server.request.appointment:
      properties:
        caseId:
          type: string
          format: uuid
          description: CaseId to record appointment against
        appointmentType:
          type: string
          enum:
            - FIELD
            - TELEPHONE
          description: the type of appointment either "FIELD" or "TELEPHONE"
        title:
          type: string
          maxLength: 12
          description: the title of the person request an appointment
        forename:
          type: string
          maxLength: 60
          description: the forename of the person request an appointment
        surname:
          type: string
          maxLength: 60
          description: the surname of the person request an appointment
        telNo:
          type: string
          pattern: '^[0-9]*$'
          description: the contact number for the appointment if given
        dateTime:
          type: string
          format: datetime
          description: The requested time of the appointment if known
      required:
        - caseId
        - appointmentType
        - title
        - forename
        - surname
    uk.gov.ons.responsemanagement.model.server.request.refusal:
      properties:
        refusal:
          type: object
          properties:
            caseId:
              type: string
              format: uuid
              description: CaseId to log refusal against
            title:
              type: string
              maxLength: 12
              description: the title of the person refusing
            forename:
              type: string
              maxLength: 60
              description: the forename of the person refusing
            surname:
              type: string
              maxLength: 60
              description: the surname of the person refusing
            telNo:
              type: string
              pattern: '^[0-9]*$'
              description: the telephone number of the individual refusing
            notes:
              type: string
              maxLength: 512
              description: notes about the refusal
            addressLine1:
              type: string
              maxLength: 60
              description: address line1 (for use if no caseid is available)
            addressLine2:
              type: string
              maxLength: 60
              description: address line2  (for use if no caseid is available)
            addressLine3:
              type: string
              maxLength: 60
              description: updated address line3  (for use if no caseid is available)
            townName:
              type: string
              maxLength: 30
              description: The post town of the address  (for use if no caseid is available)
            region:
              type: string
              enum:
                - E
                - W
                - N
              description: 'The region e.g. england (E), wales (W), northern ireland (N) (for use if no caseid is available)'
            postcode:
              type: string
              description: postcode of address  (for use if no caseid is available)
              maxLength: 8
            uprn:
              type: string
              pattern: '^\d{1,12}$'
              description: The address UPRN if known
            dateTime:
              type: string
              format: datetime
              description: The requested time of the refusal
      required:
        - dateTime

    uk.gov.ons.responsemanagement.model.server.response.fulfilmentcode:
      properties:
        fulfilmentCode:
          type: string
        caseType:
          type: string
          enum:
            - HH
            - HI
            - CE
            - CI
          description: case type
        regions:
          type: array
          items:
            type: string
        language:
          type: string
          enum:
            - ara
            - ben
            - cmn
            - eng
            - fre
            - gle
            - guj
            - ita
            - kur
            - lit
            - pan
            - pol
            - por
            - rus
            - som
            - spa
            - tur
            - uls
            - vie
            - wel
            - yid
            - yue
        description:
          type: string
        deliveryChannel:
          type: string
          enum:
            - POST
            - EMAIL
            - SMS
    uk.gov.ons.responsemanagement.model.server.response.case.CaseContainer:
      properties:
        id:
          type: string
          format: uuid
        caseRef:
          type: string
        caseType:
          type: string
          enum:
             - HH
             - HI
             - CE
             - CI
          description: case type
        createdDateTime:
          type: string
          format: datetime
        addressLine1:
          type: string
          maxLength: 60
          description: address line1
        addressLine2:
          type: string
          maxLength: 60
          description: address line2
        addressLine3:
          type: string
          maxLength: 60
          description: address line3
        townName:
          type: string
          maxLength: 30
          description: The post town of the address
        region:
          type: string
          enum:
            - E
            - W
            - N
          description: 'The region e.g. england (E), wales (W), northern ireland (N)'
        postcode:
          type: string
          description: postcode of address
          maxLength: 8
        uprn:
          type: string
          description: uprn (Unique Property Reference Number) of address
        caseEvents:
          type: array
          items:
            $ref: >-
              #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.case.CaseEvent
    uk.gov.ons.responsemanagement.model.server.response.case.CaseEvent:
      properties:
        category:
          type: string
        description:
          type: string
        createdDateTime:
          type: string
          format: datetime
    uk.gov.ons.responsemanagement.model.server.response.address.AddressBySearchResponseContainer:
      properties:
        dataVersion:
          type: string
        addresses:
          type: array
          items:
            $ref: >-
              #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.address.AddressResponseAddress
        total:
          type: integer
          format: int64
      required:
        - dataVersion
        - addresses
        - total
    uk.gov.ons.responsemanagement.model.server.response.address.AddressResponseVersion:
      properties:
        apiVersion:
          type: string
        dataVersion:
          type: string
      required:
        - dataVersion
    uk.gov.ons.responsemanagement.model.server.response.address.AddressResponseAddress:
      properties:
        uprn:
          type: string
        formattedAddress:
          type: string
        welshFormattedAddress:
          type: string
      required:
        - uprn
        - formattedAddress
        - welshFormattedAddress
    uk.gov.ons.responsemanagement.model.server.response.postcode.AddressByPostcodeResponseContainer:
      properties:
        dataVersion:
          type: string
        addresses:
          type: array
          items:
            $ref: >-
              #/components/schemas/uk.gov.ons.responsemanagement.model.server.response.address.AddressResponseAddress
        total:
          type: integer
          format: int64
      required:
        - dataVersion
        - addresses
        - total
    uk.gov.ons.responsemanagement.model.server.response.Response:
      properties:
        id:
          type: string
        dateTime:
          type: string
          format: datetime
      required:
        - dateTime
